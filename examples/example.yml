description: >
  Example php checks workflow for testing purpost but also should be good start point for no experianced developer 

usage:
  version: 2.1
  orbs:
    ci-php: jovan-jc-org/test-orb-jovan
  workflows:
    my-deploy-workflow:
      jobs:
        - ci-php/install-dependencies-with-docker:
            sshFingerprint: "xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx"
            requires:
        - build-composer
        - ci-php/coverage:
            requires:
              - ci-php/install-dependencies-with-docker
              - ci-caching/build-docker-images
        - ci-php/code-style:
            requires:
              - ci-php/install-dependencies-with-docker
              - ci-caching/build-docker-images
        - ci-php/static-analysis:
            requires:
              - ci-php/install-dependencies-with-docker
              - ci-caching/build-docker-images
        - ci-php/infection-testing:
            requires:
              - ci-php/install-dependencies-with-docker
              - ci-caching/build-docker-images
        - ci-php/php-cs-fixer:
            sshFingerprint: "xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx"
            dependencyCheckSumFile: "./composer.json"
            containerName: "project-php"
            commitUserEmail: "john.smith@example.com"
            fixSource: "src tests"
            requires:
              - ci-php/install-dependencies
        - ci-php/php-cs-fixer-risky:
            sshFingerprint: "xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx"
            dependencyCheckSumFile: "./composer.json"
            containerName: "project-php"
            commitUserEmail: "john.smith@example.com"
            fixSource: "src tests"
            requires:
              - ci-php/install-dependencies
        - ci-php/todo-checker:
            context: todochecker
            pathsToCheck: "./src ./tests"
        - ci-php/composer-audit:
            context: dockerhub-credentials
            sshFingerprint: "xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx"
            dependencyCheckSumFile: "./composer.json"
            requires:
              - ci-caching/build-docker-images
              - ci-php/install-dependencies
